{"remainingRequest":"/Users/zhangyingguang/Desktop/SinaProjectMerge-main/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhangyingguang/Desktop/SinaProjectMerge-main/src/views/idcos/ticket/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhangyingguang/Desktop/SinaProjectMerge-main/src/views/idcos/ticket/index.vue","mtime":1614160286000},{"path":"/Users/zhangyingguang/Desktop/SinaProjectMerge-main/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhangyingguang/Desktop/SinaProjectMerge-main/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/zhangyingguang/Desktop/SinaProjectMerge-main/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhangyingguang/Desktop/SinaProjectMerge-main/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7Z2V0VGlja2V0fSBmcm9tICdAL2FwaS90aWNrZXQnCmltcG9ydCBQYWdpbmF0aW9uIGZyb20gJ0AvY29tcG9uZW50cy9QYWdpbmF0aW9uJyAvLyBzZWNvbmRhcnkgcGFja2FnZSBiYXNlZCBvbiBlbC1wYWdpbmF0aW9uCi8vIGltcG9ydCB7Z2V0TGlzdH0gZnJvbSAnQC9hcGkvdGFibGUnCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1RpY2tldEluZGV4JywKICBjb21wb25lbnRzOiB7IFBhZ2luYXRpb24gfSwKICBmaWx0ZXJzOiB7CiAgICBzdGF0dXNGaWx0ZXIoc3RhdHVzKSB7CiAgICAgIGNvbnN0IHN0YXR1c01hcCA9IHsKICAgICAgICBwdWJsaXNoZWQ6ICdzdWNjZXNzJywKICAgICAgICBkcmFmdDogJ2dyYXknLAogICAgICAgIGRlbGV0ZWQ6ICdkYW5nZXInCiAgICAgIH0KICAgICAgcmV0dXJuIHN0YXR1c01hcFtzdGF0dXNdCiAgICB9CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbGlzdExvYWRpbmc6IGZhbHNlLAogICAgICB0b3RhbDogMCwKICAgICAgbGlzdFF1ZXJ5OiB7CiAgICAgICAgcGFnZTogMSwKICAgICAgICBsaW1pdDogMjAsCiAgICAgICAgaW1wb3J0YW5jZTogdW5kZWZpbmVkLAogICAgICAgIHRpdGxlOiB1bmRlZmluZWQsCiAgICAgICAgdHlwZTogdW5kZWZpbmVkLAogICAgICAgIHNvcnQ6ICcraWQnCiAgICAgIH0sCiAgICAgIGFydGljbGVzOiBbXSwKICAgICAgYWN0aXZlTmFtZTogJ2ZpcnN0JywKICAgICAgZm9ybTogewogICAgICAgIGFzc2V0X251bWJlcjogJycsCiAgICAgICAgY2FyZF9pcDogJycsCiAgICAgICAgY3JlYXRlX3RpbWU6ICcnLAogICAgICAgIGNyZWF0ZV91c2VybmFtZTogJycsCiAgICAgICAgZW5kX3RpbWU6ICcnLAogICAgICAgIG1ldGhvZDogJycsCiAgICAgICAgc3VwZXJfdXNlcm5hbWU6ICcnLAogICAgICAgIHN0YXRlOiAnJwogICAgICB9LAogICAgICBjZW50ZXJEaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgZm9ybUxhYmVsV2lkdGg6ICcxMjBweCcsCiAgICAgIGZvcm1JbmxpbmU6IHsKICAgICAgICB1c2VyOiAnJywKICAgICAgICByZWdpb246ICcnCiAgICAgIH0KICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmxvYWRBcnRpY2xlcygxKQogIH0sCiAgbWV0aG9kczogewogICAgbG9hZEFydGljbGVzKHBhZ2UgPSAxKSB7CiAgICAgIC8vIOWxleekuuWKoOi9veS4rSBsb2FkaW5nCiAgICAgIHRoaXMubG9hZGluZyA9IHRydWUKICAgICAgZ2V0VGlja2V0KHtwYWdlLCB1c2VybmFtZTogJ3lpbmdndWFuZycsIGxpbWl0OiAxNX0pLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIHRoaXMuYXJ0aWNsZXMgPSByZXNwb25zZS5kYXRhLmRhdGEKICAgICAgICAvLyDlhbPpl63liqDovb3kuK0gbG9hZGluZwogICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlCiAgICAgIH0pCiAgICB9LAogICAgaGFuZGxlQ2xpY2sodGFiLCBldmVudCkgewogICAgICBjb25zb2xlLmxvZyh0YWIsIGV2ZW50KTsKICAgIH0sCiAgICBvblN1Ym1pdCgpIHsKICAgICAgY29uc29sZS5sb2coJ3N1Ym1pdCEnKTsKICAgIH0KICB9Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8GA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/idcos/ticket","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-card class=\"box-card\">\n      <div slot=\"header\" class=\"clearfix\">\n        <el-tabs v-model=\"activeName\" @tab-click=\"handleClick\">\n          <el-tab-pane label=\"审批管理\" name=\"first\">\n            <el-form :inline=\"true\" :model=\"formInline\" class=\"demo-form-inline\">\n              <el-form-item>\n                <el-input v-model=\"formInline.user\" placeholder=\"请输入搜索内容\"></el-input>\n              </el-form-item>\n              <el-form-item>\n                <el-button type=\"primary\" @click=\"onSubmit\">查询</el-button>\n              </el-form-item>\n              <el-form-item\n                style=\"float: right\"\n              >\n                <el-button type=\"primary\" @click=\"onSubmit\">刷新</el-button>\n              </el-form-item>\n            </el-form>\n            <el-table\n              v-loading=\"listLoading\"\n              :data=\"articles\"\n              element-loading-text=\"Loading\"\n              border\n              fit\n              highlight-current-row\n            >\n              <el-table-column\n                type=\"selection\"\n                width=\"55\">\n              </el-table-column>\n              <el-table-column label=\"盘点号\" width=\"110\" align=\"center\">\n                <template slot-scope=\"scope\">\n                  {{ scope.row.asset_number }}\n                </template>\n              </el-table-column>\n              <el-table-column label=\"创建人\" width=\"110\" align=\"center\">\n                <template slot-scope=\"scope\">\n                  <span>{{ scope.row.create_username }}</span>\n                </template>\n              </el-table-column>\n              <el-table-column label=\"审批人\" width=\"110\" align=\"center\">\n                <template slot-scope=\"scope\">\n                  {{ scope.row.super_username }}\n                </template>\n              </el-table-column>\n              <el-table-column label=\"代理审批人\" width=\"110\" align=\"center\">\n                <template slot-scope=\"scope\">\n                  {{ scope.row.agent_username }}\n                </template>\n              </el-table-column>\n              <el-table-column label=\"创建时间\" width=\"230\" align=\"center\">\n                <template slot-scope=\"scope\">\n                  {{ scope.row.create_time }}\n                </template>\n              </el-table-column>\n              <el-table-column label=\"处理时间\" width=\"230\" align=\"auto\">\n                <template slot-scope=\"scope\">\n                  {{ scope.row.end_time }}\n                </template>\n              </el-table-column>\n              <el-table-column label=\"状态\" width=\"110\" align=\"auto\">\n                <template slot-scope=\"scope\">\n                  {{ scope.row.state }}\n                </template>\n              </el-table-column>\n              <el-table-column label=\"类型\" width=\"110\" align=\"auto\">\n                <template slot-scope=\"scope\">\n                  {{ scope.row.method }}\n                </template>\n              </el-table-column>\n              <el-table-column label=\"管理卡IP\" width=\"150\" align=\"auto\">\n                <template slot-scope=\"scope\">\n                  {{ scope.row.card_ip }}\n                </template>\n              </el-table-column>\n              <el-table-column label=\"操作\" align=\"center\" width=\"300\" class-name=\"small-padding fixed-width\">\n                <template slot-scope=\"{row,$index}\">\n                  <el-button type=\"primary\" size=\"mini\" @click=\"centerDialogVisible = true\">\n                    批准\n                  </el-button>\n                  <el-button type=\"success\" size=\"mini\" @click=\"centerDialogVisible = true\">\n                    拒绝\n                  </el-button>\n                  <el-button size=\"mini\" type=\"danger\" @click=\"centerDialogVisible = true\">\n                    撤回\n                  </el-button>\n                </template>\n              </el-table-column>\n            </el-table>\n            <pagination v-show=\"total>=0\" :total=\"total\" :page.sync=\"listQuery.page\" :limit.sync=\"listQuery.limit\"/>\n            <el-dialog\n              title=\"提示\"\n              :visible.sync=\"centerDialogVisible\"\n              width=\"30%\"\n              center>\n              <span>您确定执行当前操作吗？</span>\n              <span slot=\"footer\" class=\"dialog-footer\">\n                <el-button @click=\"centerDialogVisible = false\">取 消</el-button>\n                <el-button type=\"primary\" @click=\"centerDialogVisible = false\">确 定</el-button>\n              </span>\n            </el-dialog>\n          </el-tab-pane>\n        </el-tabs>\n      </div>\n    </el-card>\n  </div>\n</template>\n\n<script>\n  import {getTicket} from '@/api/ticket'\n  import Pagination from '@/components/Pagination' // secondary package based on el-pagination\n  // import {getList} from '@/api/table'\n\n  export default {\n    name: 'TicketIndex',\n    components: { Pagination },\n    filters: {\n      statusFilter(status) {\n        const statusMap = {\n          published: 'success',\n          draft: 'gray',\n          deleted: 'danger'\n        }\n        return statusMap[status]\n      }\n    },\n    data() {\n      return {\n        listLoading: false,\n        total: 0,\n        listQuery: {\n          page: 1,\n          limit: 20,\n          importance: undefined,\n          title: undefined,\n          type: undefined,\n          sort: '+id'\n        },\n        articles: [],\n        activeName: 'first',\n        form: {\n          asset_number: '',\n          card_ip: '',\n          create_time: '',\n          create_username: '',\n          end_time: '',\n          method: '',\n          super_username: '',\n          state: ''\n        },\n        centerDialogVisible: false,\n        formLabelWidth: '120px',\n        formInline: {\n          user: '',\n          region: ''\n        }\n      }\n    },\n    created() {\n      this.loadArticles(1)\n    },\n    methods: {\n      loadArticles(page = 1) {\n        // 展示加载中 loading\n        this.loading = true\n        getTicket({page, username: 'yingguang', limit: 15}).then(response => {\n          this.articles = response.data.data\n          // 关闭加载中 loading\n          this.loading = false\n        })\n      },\n      handleClick(tab, event) {\n        console.log(tab, event);\n      },\n      onSubmit() {\n        console.log('submit!');\n      }\n    }\n  }\n</script>\n"]}]}